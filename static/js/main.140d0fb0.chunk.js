(this["webpackJsonpyalantis-test-task"]=this["webpackJsonpyalantis-test-task"]||[]).push([[0],{37:function(e,t,c){},62:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(29),r=c.n(s),o=c(31),l=c(2),i=(c(37),c(12)),d=c(11),m=c(14),j=c(9),u=c(4),p=c.n(u),b=c(1),y=function(e){var t=e.employee,c=new Date(t.dob),a="".concat(c.getDate()," ").concat(c.toLocaleString("en-GB",{month:"long"}),", ").concat(c.getFullYear()," year");return Object(b.jsxs)("li",{className:"employees-birthday__list-item",children:[t.lastName," ",t.firstName," - ",a]})};y.proptypes={employee:p.a.object.isRequired};var O=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"].map((function(e){return e.toUpperCase()})),h=["January","February","March","April","May","June","July","August","September","October","November","December"],f=function(e,t){return e.lastName>t.lastName?1:e.lastName<t.lastName?-1:0},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):t},x=function(e){var t=function(e){var t=Object.keys(e).sort((function(e,t){return e-t})),c=t.filter((function(e){return+e<4})),a=t.filter((function(e){return+e>=4}));return[].concat(Object(m.a)(a),Object(m.a)(c)).reduce((function(t,c){return t[h[c]]=e[c]||[],t}),{})}(e.selectedEmployees);return Object(b.jsxs)("section",{className:"emloyees-birhday",children:[Object(b.jsx)("h2",{className:"emloyees-birhday__title",children:"Employees birthday"}),Object(b.jsx)("div",{className:"employees-birthday__wrapper",children:Object.keys(t).length>0?Object.entries(t).map((function(e,c){var a=Object(j.a)(e,2),n=a[0],s=a[1];return Object(b.jsxs)("section",{children:[t[n].length>0&&Object(b.jsx)("h4",{children:n}),Object(b.jsx)("ul",{className:"employees-birthday__list",children:s&&s.map((function(e){return Object(b.jsx)(y,{employee:e},"".concat(e.id,"-").concat(c))}))})]},c)})):Object(b.jsx)("h3",{children:"Employees List is empty"})})]})};x.proptypes={selectedEmployees:p.a.object.isRequired};var g=function(e){var t=e.employee,c=e.addEmployee,n=e.removeEmployee,s=Object(a.useState)(v(t.id,!1)),r=Object(j.a)(s,2),o=r[0],l=r[1];return Object(a.useEffect)((function(){o?localStorage.setItem(t.id,!0):localStorage.removeItem(t.id)}),[o]),Object(b.jsxs)("div",{className:"employee-content",children:[Object(b.jsxs)("h4",{className:"employee-name ".concat(o?"active":""),children:[t.lastName," ",t.firstName]}),Object(b.jsxs)("div",{className:"btn-group",children:[Object(b.jsxs)("div",{className:"not-active-wrapper",children:[Object(b.jsx)("input",{type:"radio",name:t.firstName,id:"".concat(t.id,"-not-active"),value:!1,checked:!o,onChange:function(){l(!1),n(t)}}),Object(b.jsx)("label",{htmlFor:"".concat(t.id,"-not-active"),children:"not active"})]}),Object(b.jsxs)("div",{className:"active-wrapper",children:[Object(b.jsx)("input",{type:"radio",name:t.firstName,id:"".concat(t.id,"-active"),value:!0,checked:o,onChange:function(){l(!0),c(t)}}),Object(b.jsx)("label",{htmlFor:"".concat(t.id,"-active"),children:"active"})]})]})]})};g.proptypes={employee:p.a.object.isRequired,addEmployee:p.a.func.isRequired,removeEmployee:p.a.func.isRequired};var E=function(e){var t=e.employees,c=e.addSelectedEmployee,a=e.removeSelectedEmployee;return Object(b.jsxs)("section",{className:"employees",children:[Object(b.jsx)("h2",{className:"employees-title",children:"Employees"}),Object(b.jsx)("div",{className:"employees-wrapper",children:Object.entries(t).map((function(e,t){var n=Object(j.a)(e,2),s=n[0],r=n[1];return Object(b.jsxs)("div",{className:"employee-wrapper",children:[Object(b.jsx)("h3",{children:s}),r.length>0?r.map((function(e){return Object(b.jsx)(g,{employee:e,addEmployee:c,removeEmployee:a},e.id)})):"----"]},t)}))})]})};E.proptypes={employees:p.a.object.isRequired,addSelectedEmployee:p.a.func.isRequired,removeSelectedEmployee:p.a.func.isRequired};var N=c(30),S=c.n(N);var w=function(){var e=Object(a.useState)({}),t=Object(j.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(v("selectedEmployees")),r=Object(j.a)(s,2),o=r[0],l=r[1],u=Object(a.useState)(!1),p=Object(j.a)(u,2),y=p[0],h=p[1];return Object(a.useEffect)((function(){h(!0),S.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){var t=e.data.reduce((function(e,t){var c=t.lastName.slice(0,1);return e[c]?e[c].push(t):e[c]=[t],e}),{});n(function(e){var t=Object.entries(e).reduce((function(e,t){return t[1].sort(f),e}),e);return O.sort().reduce((function(e,c){return e[c]=t[c]||[],e}),{})}(t)),h(!1)})).catch((function(e){throw new Error(e)}))}),[]),Object(b.jsx)("div",{className:"app",children:y?Object(b.jsx)("h3",{children:"Loading..."}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(E,{employees:c,addSelectedEmployee:function(e){var t=new Date(e.dob).getMonth(),c=v("selectedEmployees");c[t]?localStorage.setItem("selectedEmployees",JSON.stringify(Object(d.a)(Object(d.a)({},c),{},Object(i.a)({},t,function(e,t){return[].concat(Object(m.a)(e),[t]).sort(f)}(c[t],e))))):localStorage.setItem("selectedEmployees",JSON.stringify(Object(d.a)(Object(d.a)({},c),{},Object(i.a)({},t,[e])))),l(v("selectedEmployees"))},removeSelectedEmployee:function(e){var t=new Date(e.dob).getMonth(),c=v("selectedEmployees"),a=Object(d.a)(Object(d.a)({},c),{},Object(i.a)({},t,c[t].filter((function(t){return t.id!==e.id}))));localStorage.setItem("selectedEmployees",JSON.stringify(function(e){var t={};return Object.keys(e).forEach((function(c){e[c].length&&(t[c]=e[c])})),t}(a))),l(v("selectedEmployees"))}}),Object(b.jsx)(x,{selectedEmployees:o})]})})};r.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsxs)(o.a,{children:[Object(b.jsx)(l.b,{path:"/employees",children:Object(b.jsx)(w,{})}),Object(b.jsx)(l.a,{to:"/employees"})]})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.140d0fb0.chunk.js.map