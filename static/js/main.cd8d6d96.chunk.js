(this["webpackJsonpyalantis-test-task"]=this["webpackJsonpyalantis-test-task"]||[]).push([[0],{37:function(e,t,c){},62:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(29),s=c.n(r),o=c(31),l=c(2),i=(c(37),c(13)),d=c(12),j=c(11),m=c(9),u=c(4),p=c.n(u),b=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"].map((function(e){return e.toUpperCase()})),y=["January","February","March","April","May","June","July","August","September","October","November","December"],O=function(e,t){return e.lastName>t.lastName?1:e.lastName<t.lastName?-1:0},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):t},f=c(1),v=function(e){var t=function(e){var t=(new Date).getMonth(),c=Object.keys(e).sort((function(e,t){return e-t})),a=c.filter((function(e){return+e<+t}));console.log(a);var n=c.filter((function(e){return+e>=+t}));return console.log(n),console.log([].concat(Object(j.a)(n),Object(j.a)(a))),[].concat(Object(j.a)(n),Object(j.a)(a)).reduce((function(t,c){return t[y[c]]=e[c]||[],t}),{})}(e.selectedEmployees);return Object(f.jsxs)("section",{className:"emloyees-birhday",children:[Object(f.jsx)("h2",{className:"emloyees-birhday__title",children:"Employees birthday"}),Object(f.jsx)("div",{className:"employees-birthday__wrapper",children:Object.keys(t).length>0?Object.entries(t).map((function(e,c){var a=Object(m.a)(e,2),n=a[0],r=a[1];return Object(f.jsxs)("section",{children:[t[n].length>0&&Object(f.jsx)("h4",{children:n}),Object(f.jsx)("ul",{children:r&&r.map((function(e){var t=new Date(e.dob),a="".concat(t.getDate()," ").concat(t.toLocaleString("en-GB",{month:"long"}),", ").concat(t.getFullYear()," year");return Object(f.jsxs)("li",{children:[e.lastName," ",e.firstName," ",a]},"".concat(e.id,"-").concat(c))}))})]},c)})):Object(f.jsx)("h3",{children:"Employees List is empty"})})]})};v.proptypes={selectedEmployees:p.a.object.isRequired};var g=function(e){var t=e.employee,c=e.addEmployee,n=e.removeEmployee,r=Object(a.useState)(h(t.id,!1)),s=Object(m.a)(r,2),o=s[0],l=s[1];return Object(a.useEffect)((function(){o?localStorage.setItem(t.id,!0):localStorage.removeItem(t.id)}),[o]),Object(f.jsxs)("div",{className:"employee-content",children:[Object(f.jsxs)("h4",{className:"employee-name ".concat(o?"active":""),children:[t.lastName," ",t.firstName]}),Object(f.jsxs)("div",{className:"btn-group",children:[Object(f.jsxs)("div",{className:"not-active-wrapper",children:[Object(f.jsx)("input",{type:"radio",name:t.firstName,id:"".concat(t.id,"-not-active"),value:!1,checked:!o,onChange:function(){l(!1),n(t)}}),Object(f.jsx)("label",{htmlFor:"".concat(t.id,"-not-active"),children:"not active"})]}),Object(f.jsxs)("div",{className:"active-wrapper",children:[Object(f.jsx)("input",{type:"radio",name:t.firstName,id:"".concat(t.id,"-active"),value:!0,checked:o,onChange:function(){l(!0),c(t)}}),Object(f.jsx)("label",{htmlFor:"".concat(t.id,"-active"),children:"active"})]})]})]})};g.proptypes={employee:p.a.object.isRequired,addEmployee:p.a.func.isRequired,removeEmployee:p.a.func.isRequired};var x=function(e){var t=e.employees,c=e.addSelectedEmployee,a=e.removeSelectedEmployee;return Object(f.jsxs)("section",{className:"employees",children:[Object(f.jsx)("h2",{className:"employees-title",children:"Employees"}),Object(f.jsx)("div",{className:"employees-wrapper",children:Object.entries(t).map((function(e,t){var n=Object(m.a)(e,2),r=n[0],s=n[1];return Object(f.jsxs)("div",{className:"employee-wrapper",children:[Object(f.jsx)("h3",{children:r}),s.length>0?s.map((function(e){return Object(f.jsx)(g,{employee:e,addEmployee:c,removeEmployee:a},e.id)})):"----"]},t)}))})]})};x.proptypes={employees:p.a.object.isRequired,addSelectedEmployee:p.a.func.isRequired,removeSelectedEmployee:p.a.func.isRequired};var E=c(30),N=c.n(E);var S=function(){var e=Object(a.useState)({}),t=Object(m.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(h("selectedEmployees")),s=Object(m.a)(r,2),o=s[0],l=s[1],u=Object(a.useState)(!1),p=Object(m.a)(u,2),y=p[0],g=p[1];return Object(a.useEffect)((function(){g(!0),N.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){var t=e.data.reduce((function(e,t){var c=t.lastName.slice(0,1);return e[c]?e[c].push(t):e[c]=[t],e}),{});n(function(e){var t=Object.entries(e).reduce((function(e,t){return t[1].sort(O),e}),e);return b.sort().reduce((function(e,c){return e[c]=t[c]||[],e}),{})}(t)),g(!1)})).catch((function(e){throw new Error(e)}))}),[]),Object(f.jsx)("div",{className:"app",children:y?Object(f.jsx)("h3",{children:"Loading..."}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(x,{employees:c,addSelectedEmployee:function(e){var t=new Date(e.dob).getMonth(),c=h("selectedEmployees");c[t]?localStorage.setItem("selectedEmployees",JSON.stringify(Object(d.a)(Object(d.a)({},c),{},Object(i.a)({},t,function(e,t){return[].concat(Object(j.a)(e),[t]).sort(O)}(c[t],e))))):localStorage.setItem("selectedEmployees",JSON.stringify(Object(d.a)(Object(d.a)({},c),{},Object(i.a)({},t,[e])))),l(h("selectedEmployees"))},removeSelectedEmployee:function(e){var t=new Date(e.dob).getMonth(),c=h("selectedEmployees"),a=Object(d.a)(Object(d.a)({},c),{},Object(i.a)({},t,c[t].filter((function(t){return t.id!==e.id}))));localStorage.setItem("selectedEmployees",JSON.stringify(function(e){var t={};return Object.keys(e).forEach((function(c){e[c].length&&(t[c]=e[c])})),t}(a))),l(h("selectedEmployees"))}}),Object(f.jsx)(v,{selectedEmployees:o})]})})};s.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsxs)(o.a,{children:[Object(f.jsx)(l.b,{path:"/employees",children:Object(f.jsx)(S,{})}),Object(f.jsx)(l.a,{to:"/employees"})]})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.cd8d6d96.chunk.js.map